# URC System Acceptance Review Script - ArUco Keyboard Tracking System

**"We developed an autonomous keyboard interaction system that uses four ArUco markers at the keyboard corners to compute a perspective homography, rectifying the view to a normalized 800x400 pixel ROI. Within this rectified space, we perform black-surface segmentation and apply a second perspective transform - the K matrix - mapping our canonical Spanish ISO keyboard layout to pixel coordinates, then invert the entire chain to project any key position back into the camera frame. The system operates with a dual-state machine: in GLOBAL mode, we detect markers and compute homography stability until the scene is stable within 3 pixels for 2 consecutive frames, then transition to TRACKING mode where Lucas-Kanade optical flow with dual Kalman filters provides sub-pixel accuracy at 30 Hz, tolerating 250ms of marker occlusion. For autonomous typing, users type '>gato' to queue multiple characters - the system sequentially acquires each target, waits for stability through three-tier gating (homography pixel threshold, stable frame counter, and 0.5-second pose lock delay), enters tracking, and upon manual 'd' key completion, uses the await_target_acquire flag to force visual re-acquisition of the next target before allowing tracking entry. The system achieves ~1cm key localization accuracy at 50cm working distance with 30 Hz real-time operation in ROS2, and operates on raw camera input after we found that disabling optimization features improved reliability by eliminating contrast enhancement artifacts."**


**
For the autonomous keyboard typing task, we developed a system that uses the aruco markers near the keyboard corners to compute a perspective homography, rectifying the view to a normalized ROI, within this space, we then perform a black surface segmentation and apply a second perspective transform, mapping our keyboard to pixel coordinates. The system then operates a dual state machine, first we detect markers, compute homography stability and map the keys, then we transition to tracking mode where Lucas-Kanade optical flow with dual Kalman filters are used in order to track the calculated offset in order to 
**

**
The developed system for the autonomous keyboard typing task uses ArUco markers placed near the keyboard to compute a perspective homography, rectifying the camera view into a normalized ROI. We then perform a luminance-based segmentation and apply a second perspective transform, mapping the keyboard layout to pixel coordinates.
Once mapped, the system enters tracking mode, employing Lucas-Kanade optical flow and dual Kalman filters to maintain a robust estimate of the target offset. This closed-loop approach ensures the end-effector follows an accurate trajectory toward the designated key.
**

The system for the autonomous keyboard typing task utilizes ArUco markers to compute a perspective homography, rectifying the camera feed into a normalized ROI. This facilitates color-space segmentation and a secondary transform to map the keyboard layout into spatial coordinates. Once mapped, the system enters tracking mode, employing Lucas-Kanade optical flow and dual Kalman filters to maintain a robust estimate of the target offset. This closed-loop approach ensures the end-effector maintains an accurate trajectory toward the designated key, compensating for dynamic variances."